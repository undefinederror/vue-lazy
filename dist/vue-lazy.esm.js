import{throttle as n,debounce as e,get as t}from"lodash";var o={throttle:n,debounce:e,get:t},i={bind:function(n,e,t){var i=["debounce","throttle"].includes(e.arg)?e.arg:"debounce",u=Number(e.value)||500,r=a(t),c=r.removeListener,d=r.addListener,s=(0,r.getInputEvents)(t);s.length||console.log("[v-lazy] no input events found during bind"),s.map(function(n){c("input",n._wrapper||n)}),d("input",o[i](function(n){o.get(t.context,e.expression)!==n&&s.map(function(e){e(n)})},u),!1)},unbind:function(n,e,t){var o=a(t),i=o.removeListener;(0,o.getInputEvents)(t).map(function(n){i("input",n)})}};function a(n){var e=!!n.componentInstance;return{removeListener:e?n.componentInstance.$off.bind(n.componentInstance):function(e,t){n.elm.removeEventListener(e,t),delete n.data.on[e]},addListener:e?n.componentInstance.$on.bind(n.componentInstance):function(e,t,o){n.elm.addEventListener(e,t,o),n.data.on[e]=t},getInputEvents:e?function(){return[].concat(n.componentInstance._events.input||[])}:function(){return[n.data.on.input]}}}var u=Object.freeze({lazy:i});var r={install:function n(e){n.installed||(n.installed=!0,Object.keys(u).forEach(function(n){console.log(u),e.directive(n,u[n])}))}},c=null;"undefined"!=typeof window?c=window.Vue:"undefined"!=typeof global&&(c=global.Vue),c&&c.use(r);export default r;export{i as lazy};
